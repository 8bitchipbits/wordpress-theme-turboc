{"version":3,"sources":["main.js"],"names":["themeColors","defaultThemeColor","renderMenu","$navigation","document","getElementById","data","menuItems","title","children","element-id","url","role","disabled","separator","this","hasChildren","length","toString","output","Mustache","render","innerHTML","menu","querySelector","menuitems","querySelectorAll","toggler","hideAllSubMenus","forEach","sm","style","display","item","subMenu","addEventListener","bindMenuButtons","$btnTheme","$pnlThemeDialog","window","e","target","loadSiteSettings","$html","getElementsByTagName","themeColor","localStorage","getItem","className","classList","add","setItem","openDialog","$btnOpenDialog","$pnlDialog","$btnOk","$btnOpenFormDialog","$pnlFormDialog","$btnCancel","renderThemeDialog","$body","color","div","createElement","dialog","childNodes","append","name","value"],"mappings":"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","sourcesContent":["const themeColors = [\"aqua\", \"black\", \"blue\", \"white\"];\n\nconst defaultThemeColor = \"aqua\";\n\ndocument.addEventListener('DOMContentLoaded', () => {\n\n    loadSiteSettings();\n\n    renderMenu();\n    renderThemeDialog();\n\n    bindMenuButtons();\n\n    openDialog();\n});\n\nfunction renderMenu() {\n    let $navigation = document.getElementById(\"navigation\");\n\n    let menuJson = [\n        {\n            \"title\": \"-\",\n            \"children\": [\n                {\n                    \"element-id\": \"btnTheme\",\n                    \"title\": \"Theme Options\"\n                }\n            ]\n        },\n        {\n            \"title\": \"Home\",\n            \"url\": \"index.html\"\n        },\n        {\n            \"title\": \"Elements\",\n            \"children\": [\n                {\n                    \"url\": \"color_matrix.html\",\n                    \"title\": \"Colors\"\n                },\n                {\n                    \"url\": \"typography.html\",\n                    \"title\": \"Typography\"\n                },\n                {\n                    \"role\": \"separator\"\n                },\n                {\n                    \"url\": \"button.html\",\n                    \"title\": \"Button\"\n                },\n                {\n                    \"url\": \"textbox.html\",\n                    \"title\": \"Textbox\"\n                },\n                {\n                    \"url\": \"selectbox.html\",\n                    \"title\": \"Selectbox\"\n                },\n                {\n                    \"url\": \"checkbox.html\",\n                    \"title\": \"Checkbox & Radio Button\"\n                },\n                {\n                    \"role\": \"separator\"\n                },\n                {\n                    \"url\": \"table.html\",\n                    \"title\": \"Table\"\n                },\n                {\n                    \"url\": \"form.html\",\n                    \"title\": \"Form\"\n                },\n                {\n                    \"url\": \"dialog.html\",\n                    \"title\": \"Dialog\"\n                },\n                {\n                    \"url\": \"menu.html\",\n                    \"title\": \"Menu\"\n                }\n            ]\n        },\n        {\n            \"title\": \"Demo Pages\",\n            \"children\": [\n                {\n                    \"title\": \"Layout\",\n                    \"url\": \"layout.html\"\n                },\n                {\n                    \"title\": \"Blog Post\",\n                    \"disabled\": true\n                },\n                {\n                    \"title\": \"Blog Home Page\",\n                    \"disabled\": true\n                }\n            ]\n        },\n        {\n            \"title\": \"Disabled\",\n            \"disabled\": true\n        },\n        {\n            \"title\": \"About\",\n            \"url\": \"about.html\"\n        }\n    ];\n\n    let menuTemplate = `\n    <span class=\"menu-button\">â–¼</span>\n    <ul>\n    {{#menuItems}}\n        {{#disabled}}\n        <li class=\"disabled\">\n            <a href=\"{{url}}\">{{title}}</a>\n        </li>\n        {{/disabled}}\n        {{^disabled}}\n        <li>\n            <a href=\"{{url}}\">{{title}}</a>\n            {{#hasChildren}}\n            <div class=\"sub-menu\">\n                <ul>\n                    {{#children}}\n                        {{#separator}}\n                        <li role=\"separator\"></li>\n                        {{/separator}}\n                        {{^separator}}\n                            {{#disabled}}\n                            <li class=\"disabled\"><a {{#element-id}}id=\"{{.}}\" {{/element-id}}href=\"{{url}}\">{{title}}</a></li>\n                            {{/disabled}}\n\n                            {{^disabled}}\n                            <li><a {{#element-id}}id=\"{{.}}\" {{/element-id}}href=\"{{url}}\">{{title}}</a></li>\n                            {{/disabled}}\n                        {{/separator}}\n                    {{/children}}\n            </ul>\n            </div>\n            {{/hasChildren}}\n        </li>\n        {{/disabled}}\n    {{/menuItems}}\n    </ul>`;\n\n    let data = {\n        menuItems: menuJson,\n        \"separator\": function () {\n            return this.role === \"separator\";\n        },\n        \"hasChildren\": function () {\n            return this.children && this.children.length > 0;\n        },\n        \"url\": function () {\n            if (this.url) {\n                return this.url.toString();\n            }\n\n            return \"javascript:;\";\n        }\n    };\n\n    let output = Mustache.render(menuTemplate, data);\n    $navigation.innerHTML = output;\n\n    let menu = document.querySelector(\"nav>ul\");\n    let menuitems = menu.querySelectorAll(\"nav>ul>li\");\n\n    let toggler = document.querySelector(\"nav>span.menu-button\");\n\n    function hideAllSubMenus() {\n        let submenus = menu.querySelectorAll(\"nav>ul>li div.sub-menu\");\n        submenus.forEach(sm => {\n            sm.style.display = \"none\";\n        });\n    }\n\n    menuitems.forEach((item) => {\n\n        let subMenu = item.querySelector(\"div.sub-menu\");\n        if (!subMenu) {\n            return;\n        }\n\n        // set initial state\n        subMenu.style.display = \"none\";\n\n        item.addEventListener(\"click\", () => {\n            if (subMenu.style.display === \"none\") {\n\n                hideAllSubMenus();\n\n                subMenu.style.display = \"block\";\n            } else {\n                subMenu.style.display = \"none\";\n            }\n        });\n    });\n\n    toggler.addEventListener(\"click\", () => {\n        if (menu.style.display === \"table\") {\n            hideAllSubMenus();\n\n            menu.style.display = \"none\";\n        }\n        else {\n            menu.style.display = \"table\";\n        }\n    });\n}\n\nfunction bindMenuButtons() {\n    var $btnTheme = document.getElementById(\"btnTheme\");\n    var $pnlThemeDialog = document.getElementById(\"pnlThemeDialog\");\n\n    $btnTheme.addEventListener(\"click\", function () {\n        if ($pnlThemeDialog) {\n            $pnlThemeDialog.style.display = \"block\";\n        }\n    });\n\n    window.addEventListener(\"click\", function (e) {\n        if (e.target == $pnlThemeDialog) {\n            $pnlThemeDialog.style.display = \"none\";\n        }\n    });\n}\n\nfunction loadSiteSettings() {\n    var $html = document.getElementsByTagName(\"html\")[0];\n    var themeColor = window.localStorage.getItem(\"theme-color\");\n\n    $html.className = \"\";\n\n    if (themeColor) {\n        $html.classList.add(themeColor);\n    }\n    else {\n        $html.classList.add(defaultThemeColor);\n\n        window.localStorage.setItem(\"theme-color\", defaultThemeColor);\n    }\n}\n\nfunction openDialog() {\n    var $btnOpenDialog = document.getElementById(\"btnOpenDialog\");\n    if (!$btnOpenDialog) {\n        return;\n    }\n\n    var $pnlDialog = document.getElementById(\"pnlDialog\");\n    var $btnOk = document.getElementById(\"btnOK\");\n\n    $btnOpenDialog.addEventListener(\"click\", () => {\n        $pnlDialog.style.display = \"block\";\n    });\n    $btnOk.addEventListener(\"click\", () => {\n        $pnlDialog.style.display = \"none\";\n    });\n\n    var $btnOpenFormDialog = document.getElementById(\"btnOpenFormDialog\");\n    if (!$btnOpenFormDialog) {\n        return;\n    }\n\n    var $pnlFormDialog = document.getElementById(\"pnlFormDialog\");\n    var $btnCancel = document.getElementById(\"btnCancel\");\n\n    $btnOpenFormDialog.addEventListener(\"click\", () => {\n        $pnlFormDialog.style.display = \"block\";\n    });\n\n    $btnCancel.addEventListener(\"click\", () => {\n        $pnlFormDialog.style.display = \"none\";\n    });\n\n    window.addEventListener(\"click\", function (e) {\n        if (e.target == $pnlFormDialog) {\n            $pnlFormDialog.style.display = \"none\";\n        }\n    });\n}\n\nfunction renderThemeDialog() {\n\n    let $body = document.getElementsByTagName(\"body\")[0];\n    var template = `<div id=\"pnlThemeDialog\" class=\"dialog\">\n    <div class=\"dialog-box\">\n        <div class=\"dialog-content\">\n            <header><span>Theme Options</span></header>\n            <main>\n            <table style=\"margin: auto;\">\n                <thead><th style=\"width: 150px;\">Colors</th></thead>\n                <tbody>\n                    <tr>\n                        <td style=\"text-align: left; padding-left: 25%;\">\n                        {{#color}}\n                            <input id=\"rbColor{{.}}\" name=\"color\" type=\"radio\" value=\"{{.}}\" />\n                            <label for=\"rbColor{{.}}\">{{.}}</label>\n                            <br />\n                        {{/color}}\n                        </td>\n                    </tr>\n                </tbody>\n            </table>\n            <br />\n            </main>\n            <footer>\n                <button id=\"btnThemeDialogOK\" class=\"default\" accesskey=\"o\"><u>O</u>K</button>\n            </footer></div></div></div>`;\n\n    var data = {\n        color: themeColors\n    };\n\n    var output = Mustache.render(template, data);\n    var div = document.createElement(\"div\");\n    div.innerHTML = output;\n\n    var dialog = div.childNodes[0];\n    $body.append(dialog);\n\n    var $btnThemeDialogOK = document.getElementById(\"btnThemeDialogOK\");\n    $btnThemeDialogOK.addEventListener(\"click\", function () {\n        var selectedElements = dialog.querySelectorAll(\"input[type=radio]:checked\");\n        selectedElements.forEach(function (item) {\n            if (item.name === \"color\") {\n                window.localStorage.setItem(\"theme-color\", item.value);\n            }\n        });\n\n        loadSiteSettings();\n\n        dialog.style.display = \"none\";\n    });\n}"],"file":"main.js"}
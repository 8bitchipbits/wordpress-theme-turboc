{"version":3,"names":[],"mappings":"","sources":["main.js"],"sourcesContent":["const themeColors = [\"green\", \"black\"];\nconst themeSizes = [\"normal\", \"narrow\", \"wide\"];\n\nconst defaultThemeColor = \"green\";\nconst defaultThemeSize = \"normal\";\n\ndocument.addEventListener('DOMContentLoaded', () => {\n\n    loadSiteSettings();\n\n    renderMenu();\n    renderThemeDialog();\n\n    bindMenuButtons();\n\n    openDialog();\n});\n\nfunction renderMenu() {\n    var $navigation = document.getElementById(\"navigation\");\n\n    var menuJson = [\n        {\n            \"title\": \"-\",\n            \"children\": [\n                {\n                    \"element-id\": \"btnTheme\",\n                    \"title\": \"Theme Options\"\n                }\n            ]\n        },\n        {\n            \"title\": \"Home\",\n            \"url\": \"index.html\"\n        },\n        {\n            \"title\": \"Elements\",\n            \"children\": [\n                {\n                    \"url\": \"color_matrix.html\",\n                    \"title\": \"Colors\"\n                },\n                {\n                    \"url\": \"typography.html\",\n                    \"title\": \"Typography\"\n                },\n                {\n                    \"role\": \"separator\"\n                },\n                {\n                    \"url\": \"button.html\",\n                    \"title\": \"Button\"\n                },\n                {\n                    \"url\": \"textbox.html\",\n                    \"title\": \"Textbox\"\n                },\n                {\n                    \"url\": \"selectbox.html\",\n                    \"title\": \"Selectbox\"\n                },\n                {\n                    \"url\": \"checkbox.html\",\n                    \"title\": \"Checkbox\"\n                },\n                {\n                    \"role\": \"separator\"\n                },\n                {\n                    \"url\": \"form.html\",\n                    \"title\": \"Form\"\n                },\n                {\n                    \"url\": \"dialog.html\",\n                    \"title\": \"Dialog\"\n                },\n                {\n                    \"url\": \"menu.html\",\n                    \"title\": \"Menu\"\n                }\n            ]\n        },\n        {\n            \"title\": \"Demo Pages\",\n            \"children\": [\n                {\n                    \"title\": \"Layout\",\n                    \"url\": \"layout.html\"\n                },\n                {\n                    \"title\": \"Blog Post\",\n                    \"disabled\": true\n                },\n                {\n                    \"title\": \"Blog Home Page\",\n                    \"disabled\": true\n                }\n            ]\n        },\n        {\n            \"title\": \"Disabled\",\n            \"disabled\": true\n        },\n        {\n            \"title\": \"About\",\n            \"url\": \"about.html\"\n        }\n    ];\n\n    var menuTemplate = `<ul>\n    {{#menuItems}}\n        {{#disabled}}\n        <li class=\"disabled\">\n            <a href=\"{{url}}\">{{title}}</a>\n        </li>\n        {{/disabled}}\n        {{^disabled}}\n        <li>\n            <a href=\"{{url}}\">{{title}}</a>\n            {{#hasChildren}}\n            <div class=\"sub-menu\">\n                <ul>\n                    {{#children}}\n                        {{#separator}}\n                        <li role=\"separator\"></li>\n                        {{/separator}}\n                        {{^separator}}\n                            {{#disabled}}\n                            <li class=\"disabled\"><a {{#element-id}}id=\"{{.}}\" {{/element-id}}href=\"{{url}}\">{{title}}</a></li>\n                            {{/disabled}}\n\n                            {{^disabled}}\n                            <li><a {{#element-id}}id=\"{{.}}\" {{/element-id}}href=\"{{url}}\">{{title}}</a></li>\n                            {{/disabled}}\n                        {{/separator}}\n                    {{/children}}\n            </ul>\n            </div>\n            {{/hasChildren}}\n        </li>\n        {{/disabled}}\n    {{/menuItems}}\n    </ul>`;\n\n    var data = {\n        menuItems: menuJson,\n        \"separator\": function () {\n            return this.role === \"separator\";\n        },\n        \"hasChildren\": function () {\n            return this.children && this.children.length > 0;\n        },\n        \"url\": function () {\n            if (this.url) {\n                return this.url;\n            }\n\n            return \"javascript:;\";\n        }\n    };\n\n    var output = Mustache.render(menuTemplate, data);\n    $navigation.innerHTML = output;\n\n    var menuitems = document.querySelectorAll(\"nav>ul>li\");\n    menuitems.forEach((item) => {\n\n        var subMenu = item.querySelector(\"div.sub-menu\");\n        if (subMenu) {\n            item.addEventListener(\"mouseover\", () => {\n                subMenu.style.display = \"block\";\n            });\n\n            item.addEventListener(\"mouseleave\", () => {\n                subMenu.style.display = \"none\";\n            });\n\n            subMenu.addEventListener(\"click\", () => {\n                subMenu.style.display = \"none\";\n            });\n        }\n\n    });\n}\n\nfunction bindMenuButtons() {\n    var $btnTheme = document.getElementById(\"btnTheme\");\n    var $pnlThemeDialog = document.getElementById(\"pnlThemeDialog\");\n\n    $btnTheme.addEventListener(\"click\", function () {\n        if ($pnlThemeDialog) {\n            $pnlThemeDialog.style.display = \"block\";\n        }\n    });\n\n    window.addEventListener(\"click\", function (e) {\n        if (e.target == $pnlThemeDialog) {\n            $pnlThemeDialog.style.display = \"none\";\n        }\n    });\n}\n\nfunction loadSiteSettings() {\n    var $html = document.getElementsByTagName(\"html\")[0];\n    var themeColor = window.localStorage.getItem(\"theme-color\");\n    var themeSize = window.localStorage.getItem(\"theme-size\");\n\n    $html.className = \"\";\n\n    if (themeColor) {\n        $html.classList.add(themeColor);\n        $html.classList.add(themeSize);\n    }\n    else {\n        $html.classList.add(defaultThemeColor);\n        $html.classList.add(defaultThemeSize);\n\n        window.localStorage.setItem(\"theme-color\", defaultThemeColor);\n        window.localStorage.setItem(\"theme-size\", defaultThemeSize);\n    }\n}\n\nfunction openDialog() {\n    var $btnOpenDialog = document.getElementById(\"btnOpenDialog\");\n    if (!$btnOpenDialog) {\n        return;\n    }\n\n    var $pnlDialog = document.getElementById(\"pnlDialog\");\n    var $btnOk = document.getElementById(\"btnOK\");\n\n    $btnOpenDialog.addEventListener(\"click\", () => {\n        $pnlDialog.style.display = \"block\";\n    });\n    $btnOk.addEventListener(\"click\", () => {\n        $pnlDialog.style.display = \"none\";\n    });\n\n    var $btnOpenFormDialog = document.getElementById(\"btnOpenFormDialog\");\n    if (!$btnOpenFormDialog) {\n        return;\n    }\n\n    var $pnlFormDialog = document.getElementById(\"pnlFormDialog\");\n    var $btnSubmit = document.getElementById(\"btnSubmit\");\n    var $btnCancel = document.getElementById(\"btnCancel\");\n    var $btnHelp = document.getElementById(\"btnHelp\");\n\n    $btnOpenFormDialog.addEventListener(\"click\", () => {\n        $pnlFormDialog.style.display = \"block\";\n    });\n\n    $btnCancel.addEventListener(\"click\", () => {\n        $pnlFormDialog.style.display = \"none\";\n    });\n\n    window.addEventListener(\"click\", function (e) {\n        if (e.target == $pnlFormDialog) {\n            $pnlFormDialog.style.display = \"none\";\n        }\n    });\n}\n\nfunction renderThemeDialog() {\n\n    $body = document.getElementsByTagName(\"body\")[0];\n    var template = `<div id=\"pnlThemeDialog\" class=\"dialog\">\n    <div class=\"dialog-box\">\n        <div class=\"dialog-content\">\n            <header><span>Theme Options</span></header>\n            <main>\n            <table style=\"margin: auto;\">\n                <thead><th style=\"width: 150px;\">Colors</th><th style=\"width: 150px;\">Sizes</th></thead>\n                <tbody>\n                    <tr>\n                        <td style=\"vertical-align: top;\">\n                        {{#color}}\n                            <input id=\"rbColor{{.}}\" name=\"color\" type=\"radio\" value=\"{{.}}\" />\n                            <label for=\"rbColor{{.}}\">{{.}}</label>\n                            <br />\n                        {{/color}}\n                        </td>\n                        <td style=\"vertical-align: top;\">\n                        {{#size}}\n                            <input id=\"rbColor{{.}}\" name=\"size\" type=\"radio\"  value=\"{{.}}\" />\n                            <label for=\"rbColor{{.}}\">{{.}}</label>\n                            <br />\n                        {{/size}}\n                        </td>\n                    </tr>\n                </tbody>\n            </table>\n            <br />\n            </main>\n            <footer>\n                <button id=\"btnThemeDialogOK\" class=\"default\" accesskey=\"o\"><u>O</u>K</button>\n            </footer></div></div></div>`;\n\n    var data = {\n        color: themeColors,\n        size: themeSizes\n    };\n\n    var output = Mustache.render(template, data);\n    var div = document.createElement(\"div\");\n    div.innerHTML = output;\n\n    var dialog = div.childNodes[0];\n    $body.append(dialog);\n\n    var $btnThemeDialogOK = document.getElementById(\"btnThemeDialogOK\");\n    $btnThemeDialogOK.addEventListener(\"click\", function () {\n        var selectedElements = dialog.querySelectorAll(\"input[type=radio]:checked\");\n        selectedElements.forEach(function (item) {\n            if (item.name === \"color\") {\n                window.localStorage.setItem(\"theme-color\", item.value);\n            }\n            else if (item.name === \"size\") {\n                window.localStorage.setItem(\"theme-size\", item.value);\n            }\n        });\n\n        loadSiteSettings();\n\n        dialog.style.display = \"none\";\n    });\n}"],"file":"main-debug.js"}